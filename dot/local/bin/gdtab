#!/bin/sh
# Script to open git diffs in Diffview (nvim plugin)

# Check if in a git repository
if ! git rev-parse --git-dir >/dev/null 2>&1; then
    echo "Error: Not in a git repository" >&2
    exit 1
fi

# Check if nvim is available
if ! command -v nvim >/dev/null 2>&1; then
    echo "Error: nvim not found" >&2
    exit 1
fi

# Open DiffviewOpen with all arguments (no eval needed)
nvim "+DiffviewOpen $*"
