"" PATHOGEN SETTINGS. Make sure to have pathogen installed.
	if !exists("g:loaded_pathogen")
		" call pathogen#incubate()
		call pathogen#infect('bundle/{}')
		call pathogen#helptags()
	endif

"" Initializations
	set nocompatible 				" No comatibility with old Vi
	set tabstop=4 					" Show a tabstop as 4 spaces
	set shiftwidth=4 				" Insert 4 spaces when Tab is pressed
	set number 						" Display line numbers
	set incsearch 					" Incremental Search
	set hlsearch 					" Highlight searches
	set cursorline 					" Horizontal line to indicate cursor
	set scrolloff=3 				" Number of lines to keep at the top and bottom of a window while scrolling
	set updatetime=500 				" Time interval to update windows
	set wildmenu 					" Pressing tab in command mode shows options on status bar
	set ruler 						" Display Ruler always.
	set laststatus=2				" Display Statusbar always.
	set hidden					" Hide closed buffers instead of closing them.
	" set mouse=a 					" Enable mouse to behave properly in vim
	set ofu=syntaxcomplete#Complete " for omnicompletion
	set completeopt=longest,menuone " for omnicompletion
	let mapleader="\<Space>"		" For setting the leader
	syntax on 						" Enable syntax highlighting
	filetype on 					" Enable detecting filetype automatically
	filetype plugin on 				" Enable use of plugins for specific filetypes
	filetype plugin indent on 		" Enable Filetype indent plugin

"" Set themes and colors
	set t_Co=256
	set background=dark
	colorscheme solarized

"" Vim jumps to the last known position when reopening a file
	if has("autocmd")
		au BufReadPost * if line("'\"") > 0 && line("'\"") <= line("$")
					\| exe "normal! g'\"" | endif
	endif

"" To edit and apply .vimrc on the fly
	nmap \v :vnew ~/.vimrc<CR>
	if has("autocmd")
		autocmd! bufwritepost .vimrc source $MYVIMRC
	else
		nmap \\v :source ~/.vimrc<CR>
	endif

"" Copy-Paste-Fu
	" Copy selection to clipboard in visual mode
	vmap <Leader>y "+y
	" Cut  selection to clipboard in visual mode
	vmap <Leader>d "+d
	" Paste from clipboard after  position in visual mode
	vmap <Leader>p "+p
	" Paste from clipboard before position in visual mode
	vmap <Leader>P "+P
	" Paste from clipboard after  position in normal mode
	nmap <Leader>p "+p
	" Paste from clipboard before position in normal mode
	nmap <Leader>P "+P
	" start after copying position in Visual mode
	vnoremap <silent> y y`]
	" start after pasting position in Visual mode
	vnoremap <silent> p p`]
	" start after pasting position in Normal mode
	nnoremap <silent> p p`]

"" W-Q-X-Fu
	nnoremap <Leader>w :w<CR> 	" Easy Save
	nnoremap <Leader>q :q<CR> 	" Easy Close
	nnoremap <Leader>x :x<CR> 	" Easy Save and Close
	" cnoremap w!! w !sudo tee % 	" Easy save as sudo

"" To control fold behavior
	set foldmethod=indent
	set nofoldenable
	nmap \f :set foldnestmax=1<CR>
	nmap \F :set nofoldenable<CR>

"" Navigation mappings
	inoremap jj <Esc>			"" press j twice instead of <ESC> in INSERT mode
	nnoremap j gj				" Go between lines in wrapped lines.
	nnoremap k gk				" Go between lines in wrapped lines.

	"" Maps Ctrl+[h,j,k,l] to move between window splits
	map <C-H> <C-w>h
	map <C-J> <C-w>j
	map <C-K> <C-w>k
	map <C-L> <C-w>l

	map <C-n> :bprevious<CR>
	map <C-m> :bnext<CR>

	"" Maps Ctrl+arrow keys to resize the window splits
	map <C-Down> <C-w>+ 
	map <C-Up> <C-W>-
	map <C-Left> <C-W><
	map <C-Right> <C-w>>

"" Tags settings and mappings
	set tags=tags;

"" TagList Settings
	nmap <leader>6  :TlistToggle<CR>		" Open and close the taglist.vim separately
	let g:Tlist_Auto_Open = 1             	" always show the tag file
    let g:Tlist_Exit_OnlyWindow = 1		  	" If you are the last, kill yourself
    let g:Tlist_Enable_Fold_Column = 0	  	" Showing folding tree
	let g:Tlist_File_Fold_Auto_Close = 1  	" automatically fold hidden buffers
    let g:Tlist_Use_Right_Window = 1	  	" Split to the right side of the screen
    let g:Tlist_WinWidth = 33			  	" Set the window width
    let g:Tlist_Sort_Type = "order"		  	" Sort by the order
    let g:Tlist_Compact_Format = 1		  	" Do not display the help info
    let g:Tlist_File_Fold_Auto_Close = 1  	" Do not close tags for other files
    let g:Tlist_Show_One_File = 0         	" Always display one file tags

"" NERD_tree Settings
	nmap <leader>7 :NERDTreeToggle<CR> 		" Toggle NERDTree
    let g:NERDTreeWinSize = 33 				" Set the window width
    let g:NERDTreeWinPos = "left" 			" Set the window position
    let g:NERDTreeAutoCenter = 0 			" Auto centre
    let g:NERDTreeHighlightCursorline = 1 	" Highlight the cursor line

"" Enter the Matrix
	nmap <leader><Tab> :Matrix<CR>

"" Autotags Maps
	nmap <leader>au :call AutotagsUpdate()<CR>
	nmap <leader>aa :call AutotagsAdd()<CR>
	let g:autotags_pathhash_humanreadable = 1

"" Vim Airline Settings
	let g:airline#extensions#tabline#enabled = 1

"" Ctrl-P settings
	let g:ctrlp_map = '<c-p>'
	let g:ctrlp_cmd = 'CtrlPMixed'
